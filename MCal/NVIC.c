/**********************************************************************************************************************
 *  FILE DESCRIPTION
 *  -----------------------------------------------------------------------------------------------------------------*/
/**        \file  NVIC.c
 *        \brief  
 *
 *      \details  
 *
 *
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  INCLUDES
 *********************************************************************************************************************/

#include "NVIC.h"	


/**********************************************************************************************************************
*  LOCAL MACROS CONSTANT\FUNCTION
*********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL DATA 
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  GLOBAL DATA
 *********************************************************************************************************************/


/**********************************************************************************************************************
 *  LOCAL FUNCTION PROTOTYPES
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL FUNCTIONS
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  GLOBAL FUNCTIONS PROTOTYPES
 *********************************************************************************************************************/
/******************************************************************************
* \Syntax          : void IntCrtl_Init(void)                                      
* \Description     : initialize Nvic\SCB Module by parsing the Configuration 
*                    into Nvic\SCB registers                                    
*                                                                             
* \Sync\Async      : Synchronous                                               
* \Reentrancy      : Non Reentrant                                             
* \Parameters (in) : None                     
* \Parameters (out): None                                                      
* \Return value:   : None
*******************************************************************************/
 void IntCrtl_Init(void) 
 {
	  /*TODO Configure Grouping\SubGrouping System in APINT register in SCB
	   *2-- group pri =8, sub pri =1 , xxx
	   *4-- reset preferals except debug interface 
	   */
    APINT = 0xFA05|0x00000204;
    
    /*TODO : Assign Group\Subgroup priority in NVIC_PRIx Nvic and SCB_SYSPRIx Registers*/
	  /*vect num 16-19 for gpios A-D , A highest pri=2, D lowest pri=5 */ 
	  NVIC_PRI4 = 0x50403020;
	 /*vect num  20-23, 20 for gpioE, pri= 6*/ 
	  NVIC_PRI5 = 0x70707060;
	 /*vect num 35 for timer 0A, pri=0 */ 
	  NVIC_PRI8 = 0x00707070;
	 /*vect num 35 for timer 0B, pri=1 */ 
	  NVIC_PRI9 = 0x70707071;
	  


	 /*TODO : Enable\Disable based on user configurations in NVIC_ENx and SCB_Sys Registers*/ 
	  /*0-15 reserved 
	   *16-20 enable intrpt on all GPIOs
	   */  
	  NVIC_EN0 = 0x001F0000;
	  /*
	  *35-36 enable intrpt on timer 0A,0B
	  */ 
	  NVIC_EN1 = 0x00000018;
 
 }
/**********************************************************************************************************************
 *  END OF FILE: NVIC.c
 *********************************************************************************************************************/
